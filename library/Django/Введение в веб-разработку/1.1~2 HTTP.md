>Понимание HTTP имеет решающее значение для веб-разработчиков, поскольку оно облегчает поток информации в веб-приложении, позволяя улучшить взаимодействие с пользователями и повысить производительность сайта.
#http
## ЧТО ТАКОЕ HTTP?

В клиент-серверной модели клиенты и серверы обмениваются сообщениями по принципу «запрос-ответ»: клиент отправляет запрос, а сервер возвращает ответ.

Хранить трек из этих сообщений сложнее, чем звучит, поэтому клиент и сервер придерживаются общего языка и набора правил. Этот «язык», или протокол, называется HTTP.

Протокол HTTP определяет синтаксис (формат и кодировку данных), семантику (значение, связанное с синтаксисом) и тайминг (скорость и последовательность). Каждый HTTP-запрос и ответ, которыми обмениваются клиент и сервер, рассматривается как одна HTTP-транзакция.

## HTTP: ОБЩАЯ ИНФОРМАЦИЯ

Есть несколько вещей, которые стоит отметить про HTTP, прежде чем погрузиться в детали.

Во-первых, HTTP текстовый протокол, что означает, что сообщения, которыми обмениваются клиент и сервер, являются байтами текста. Каждое сообщение содержит две части: заголовок и тело.

Во-вторых, HTTP - это протокол прикладного уровня, то есть это просто абстракционный уровень, который стандартизирует взаимодействие хостов. Сам HTTP не передает данные. Получение запроса и ответа от одной машины к другой по-прежнему зависит от базового протокола TCP/IP.

> Напоминаем, что TCP/IP - это двухкомпонентная система, которая функционирует как фундаментальная «система управления» Интернета.

Наконец, возможно, вы видели протокол «HTTPS» в адресной строке браузера и интересовались, является ли HTTP тем же самым, что HTTP + «S». Если коротко, то HTTPS разновидность HTTP, с небольшой разницей.

Простой HTTP-запрос или ответ не зашифрован и уязвим для различных типов атак. HTTPS, напротив, является более безопасным протоколом связи, который использует TLS/SSL шифрование для обеспечения безопасности.

SSL - это протокол безопасности, который позволяет клиенту и серверу взаимодействовать по сети безопасным способом - чтобы предотвратить сниффинг и подмену во время передачи сообщений по сети.

Клиент обычно указывает, требуется ли ему подключение TLS/SSL, используя специальный номер порта 443. Как только клиент и сервер соглашаются использовать TLS/SSL для обмена данными, они согласовывают соединение с отслеживанием состояния, выполняя так называемое «квитирование TLS». Затем клиент и сервер устанавливают секретные сеансовые ключи, которые они могут использовать для шифрования и дешифрования сообщений, когда они разговаривают друг с другом.

Многие крупные веб-сайты, такие как Google и Facebook, используют HTTPS - в конце концов, это то, что сохраняет ваши пароли, личную информацию и данные кредитных карт в безопасности.

## HTTP: УГЛУБЛЯЯСЬ В ДЕТАЛИ

Теперь, вооружившись базовыми знаниями, погрузимся глубже в структуру HTTP.

Мы можем начать с посещения [https://github.com/](https://github.com/), чтобы связаться с сервером GitHub. Если вы используете Chrome или Firefox, вы можете подробно изучить HTTP-запрос, запустив инструменты веб-разработчика в браузере, нажав для этого клавишу `F12` и перейдя на вкладку `Сеть`. Вы должны увидеть что-то подобное:

![](library/Django/%D0%92%D0%B2%D0%B5%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5%20%D0%B2%20%D0%B2%D0%B5%D0%B1-%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D1%83/_attachments/320d7ddd303c0129304e45fde7cbba12_MD5.png)

  
Затем на левой панели щелкните по первому пути - `/`. Теперь вы должны увидеть следующее:

![](library/Django/%D0%92%D0%B2%D0%B5%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5%20%D0%B2%20%D0%B2%D0%B5%D0%B1-%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D1%83/_attachments/3d822c5286414e0938744a2e21f09caf_MD5.png)

### ЗАГОЛОВКИ HTTP

Заголовки HTTP обычно содержат метаданные (данные о данных). Метаданные включают тип запроса (GET, POST, PUT или DELETE), путь, код состояния, тип содержимого, используемый браузер, cookie, текст сообщения(иногда) и многое другое.

Рассмотрим наиболее важные части заголовка на примере GitHub, начиная с раздела `Заголовки ответа`:

- `GET` - Тип используемого метода HTTP. В нашем случае наш браузер сказал: «Эй, сервер GitHub, я хочу **получить**(GET) домашнюю страницу».

- `Scheme: https` - Схема запроса, используем подключение по HTTPS.

- `Host: github.com` - Запрошенный хост.

- `Filename: /` - Запрошенный URL-адрес.

- `Адрес: 140.82.212.4:443` - IP-адрес и номер порта веб-сайта GitHub, который мы посетили. Обратите внимание, что это порт номер 443, который используется для подключения по HTTPS.(Для подключения по HTTP используется порт номер 80).

- `Состояние: 200 OK` - Стандартизированный способ информирования клиента о результате запроса. Код состояния 200 означает, что сервер успешно нашел ресурс и отправляет его вам.

- `Версия: HTTP/2` - Версия протокола HTTPS.

- `Content-Encoding: gzip` - Кодировка ресурса, который мы получили обратно. В нашем случае сервер GitHub сообщает нам, что содержимое, которое он отправляет назад, сжато. GitHub сжимает файлы, чтобы страница быстрее загружалась.

- `Content-Type: text/HTML; charset = utf-8` - Задает представление данных в теле ответа, включая тип и подтип. Тип описывает тип данных, в то время как подтип указывает конкретный формат для этого типа данных. В нашем случае, мы имеем текст, в формате HTML. Во второй части указывается кодировка символов для HTML-документа. Чаще всего это будет `UTF-8`, как и выше.

Кроме этого есть также куча информации в заголовках запроса, которую клиент должен был отправить, чтобы сервер мог знать, как ответить. Посмотрите на раздел `Заголовки запроса`:

- `User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:109.0) Gecko/20100101 Firefox/115.0` - Программное обеспечение, которым пользуется пользователь. Иногда веб-сайт должен знать, с какого устройства он просматривается. Поэтому браузер отправляет эту последовательность `User-Agent`, которую сервер может использовать для определения того, что используется для доступа к веб-сайту

- `Accept-Encoding: gzip, deflate, br` - Указывает кодировку содержимого, которую может обработать браузер. Мы видим, что указан `gzip`, и поэтому сервер GitHub смог отправить нам содержимое в сжатом виде(в формате `gzip`).

- `Accept-Language: ru-RU,ru;q=0.8,en-US;q=0.5,en;q=0.3` - Описывает язык, на котором должна отобразиться веб-страница.

- `Host: github.com` - Описывает хост, на который мы идем.

- `Cookie: _octo=GH1.1.491617779.1446477115; logged_in=yes; dotcom_user=iam-peekay; _gh_sess=somethingFakesomethingFakesomethingFakesomethingFakesomethingFakesomethingFakesomethingFakesomethingFakesomethingFake; user_session=FakesomethingFake somethingFakesomethingFakesomethingFake; _ga=9389479283749823749; tz = America%2FLos_Angeles _` - Фрагмент текста, который веб-сервер может хранить на компьютере пользователя и впоследствии извлекать. Информация сохраняется как пара имя-значение. Например, одна из пар имя-значение, сохраненных GitHub для моего запроса, является `dotcom_user=iam-peekay`, которая сообщает GitHub, что мой `userid` - `iam-peekay`.

### ЧТО ТЕПЕРЬ СО ВСЕМИ ЭТИМИ ПАРАМИ ИМЯ-ЗНАЧЕНИЕ?

Итак, у нас есть много пар имя-значение. Но как создаются эти пары имя-значение?

Каждый раз, когда браузер будет открывать веб-сайт, он будет искать на компьютере файл `cookie`, установленный веб-сайтом ранее.

Так что, при посещении [https://github.com/](https://github.com/), браузер будет искать файл `cookie`, который GitHub сохранил на жестком диске компьютера пользователя. Если он найдет файл `cookie`, он отправит все пары имя-значение в заголовке запроса.

Веб-сервер GitHub теперь может использовать данные `cookie` различными способами, такими как рендеринг контента на основе сохраненных пользовательских предпочтений, подсчет количества времени, проведённого на сайте.

Если браузер не находит файл `cookie` - либо потому, что сайт никогда не посещался, либо пользователь заблокировал или удалил его - браузер не отправляет данные `cookie`.

В этом случае сервер GitHub создает новый идентификатор в качестве пары имя-значение, вместе с любыми другими необходимыми ему парами имя-значение, и отправляет его пользователю через заголовок HTTP. Получив данные, устройство хранит их на своем жестком диске.